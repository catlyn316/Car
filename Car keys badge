-- åŸºæœ¬æœå‹™èˆ‡ç©å®¶
local Players = game:GetService("Players")
local Workspace = game:GetService("Workspace")
local LocalPlayer = Players.LocalPlayer
local RunService = game:GetService("RunService")
local UserInputService = game:GetService("UserInputService")
local GuiService = game:GetService("GuiService")

-- GUI ä¸»é«”
local ScreenGui = Instance.new("ScreenGui", game.CoreGui)
ScreenGui.Name = "MaolingHub"

-- ä¿®æ­£ï¼šä¸»æ¡†æ¶æ¨£å¼
local Frame = Instance.new("Frame", ScreenGui)
Frame.Size = UDim2.new(0, 450, 0, 350)
Frame.Position = UDim2.new(0.5, -225, 0.5, -175)
Frame.BackgroundColor3 = Color3.fromRGB(25, 25, 35)
Frame.BorderSizePixel = 0
Frame.Active = true
Frame.Draggable = true

-- æ·»åŠ æ¼¸å±¤æ•ˆæœ
local gradient = Instance.new("UIGradient", Frame)
gradient.Color = ColorSequence.new{
    ColorSequenceKeypoint.new(0, Color3.fromRGB(25, 25, 35)),
    ColorSequenceKeypoint.new(1, Color3.fromRGB(35, 35, 50))
}
gradient.Rotation = 45

-- æ·»åŠ å¤–ç™¼å…‰æ•ˆæœ
local stroke = Instance.new("UIStroke", Frame)
stroke.Color = Color3.fromRGB(100, 150, 255)
stroke.Thickness = 2
stroke.Transparency = 0.5

Instance.new("UICorner", Frame).CornerRadius = UDim.new(0, 15)

-- ä¿®æ­£ï¼šæ¨™é¡Œæ¨£å¼
local Title = Instance.new("TextLabel", Frame)
Title.Size = UDim2.new(1, -80, 0, 50)
Title.Position = UDim2.new(0, 15, 0, 0)
Title.BackgroundTransparency = 1
Title.Text = "âœ¨ è²“ç²çš„è…³æœ¬å€ âœ¨"
Title.Font = Enum.Font.GothamBold
Title.TextSize = 22
Title.TextColor3 = Color3.fromRGB(255, 255, 255)
Title.TextXAlignment = Enum.TextXAlignment.Left

-- æ·»åŠ æ¨™é¡Œç™¼å…‰æ•ˆæœ
local titleStroke = Instance.new("UIStroke", Title)
titleStroke.Color = Color3.fromRGB(100, 150, 255)
titleStroke.Thickness = 1
titleStroke.Transparency = 0.3

-- ä¿®æ­£ï¼šé—œé–‰æŒ‰éˆ•æ¨£å¼å’ŒåŠŸèƒ½
local Close = Instance.new("TextButton", Frame)
Close.Size = UDim2.new(0, 35, 0, 35)
Close.Position = UDim2.new(1, -40, 0, 8)
Close.Text = "x"
Close.BackgroundColor3 = Color3.fromRGB(220, 60, 60)
Close.TextColor3 = Color3.fromRGB(255, 255, 255)
Close.Font = Enum.Font.GothamBold
Close.TextSize = 18
Close.BorderSizePixel = 0

-- æ·»åŠ é—œé–‰æŒ‰éˆ•æ•ˆæœ
local closeGradient = Instance.new("UIGradient", Close)
closeGradient.Color = ColorSequence.new{
    ColorSequenceKeypoint.new(0, Color3.fromRGB(220, 60, 60)),
    ColorSequenceKeypoint.new(1, Color3.fromRGB(180, 40, 40))
}

Instance.new("UICorner", Close).CornerRadius = UDim.new(0, 8)

-- ä¿®æ­£ï¼šé—œé–‰æŒ‰éˆ•åŠŸèƒ½
Close.MouseButton1Click:Connect(function()
    ScreenGui:Destroy()
    _G.maolingHubLoaded = false -- é‡ç½®è¼‰å…¥ç‹€æ…‹
end)

-- ä¿®æ­£ï¼šæœ€å°åŒ–æŒ‰éˆ•æ¨£å¼
local Minimize = Instance.new("TextButton", Frame)
Minimize.Size = UDim2.new(0, 35, 0, 35)
Minimize.Position = UDim2.new(1, -80, 0, 8)
Minimize.Text = "â”€"
Minimize.BackgroundColor3 = Color3.fromRGB(100, 100, 120)
Minimize.TextColor3 = Color3.fromRGB(255, 255, 255)
Minimize.Font = Enum.Font.GothamBold
Minimize.TextSize = 16
Minimize.BorderSizePixel = 0

local minimizeGradient = Instance.new("UIGradient", Minimize)
minimizeGradient.Color = ColorSequence.new{
    ColorSequenceKeypoint.new(0, Color3.fromRGB(100, 100, 120)),
    ColorSequenceKeypoint.new(1, Color3.fromRGB(80, 80, 100))
}

Instance.new("UICorner", Minimize).CornerRadius = UDim.new(0, 8)

-- ä¿®æ­£ï¼šå´é‚Šæ¬„ç‚ºå¯æ»¾å‹•
local SideBar = Instance.new("ScrollingFrame", Frame)
SideBar.Size = UDim2.new(0, 130, 1, -55)
SideBar.Position = UDim2.new(0, 5, 0, 50)
SideBar.BackgroundColor3 = Color3.fromRGB(35, 35, 50)
SideBar.BorderSizePixel = 0
SideBar.ScrollBarThickness = 6
SideBar.CanvasSize = UDim2.new(0, 0, 0, 200)
SideBar.AutomaticCanvasSize = Enum.AutomaticSize.Y
SideBar.ScrollingDirection = Enum.ScrollingDirection.Y

-- æ·»åŠ å´é‚Šæ¬„æ¨£å¼
local sidebarGradient = Instance.new("UIGradient", SideBar)
sidebarGradient.Color = ColorSequence.new{
    ColorSequenceKeypoint.new(0, Color3.fromRGB(35, 35, 50)),
    ColorSequenceKeypoint.new(1, Color3.fromRGB(45, 45, 65))
}

Instance.new("UICorner", SideBar).CornerRadius = UDim.new(0, 10)

-- æ·»åŠ UIListLayoutåˆ°å´é‚Šæ¬„
local sidebarLayout = Instance.new("UIListLayout", SideBar)
sidebarLayout.Padding = UDim.new(0, 8)
sidebarLayout.HorizontalAlignment = Enum.HorizontalAlignment.Center

-- ä¿®æ­£ï¼šå…§å®¹å€åŸŸ
local Content = Instance.new("Frame", Frame)
Content.Size = UDim2.new(1, -145, 1, -55)
Content.Position = UDim2.new(0, 140, 0, 50)
Content.BackgroundColor3 = Color3.fromRGB(40, 40, 60)
Content.BorderSizePixel = 0

local contentGradient = Instance.new("UIGradient", Content)
contentGradient.Color = ColorSequence.new{
    ColorSequenceKeypoint.new(0, Color3.fromRGB(40, 40, 60)),
    ColorSequenceKeypoint.new(1, Color3.fromRGB(50, 50, 75))
}

Instance.new("UICorner", Content).CornerRadius = UDim.new(0, 10)

-- ä¿®æ­£ï¼šç¸®å°åŠŸèƒ½çš„å°ºå¯¸
local isMinimized = false
local fullSize = UDim2.new(0, 450, 0, 350)
local miniSize = UDim2.new(0, 450, 0, 50)

Minimize.MouseButton1Click:Connect(function()
    isMinimized = not isMinimized
    SideBar.Visible = not isMinimized
    Content.Visible = not isMinimized
    Frame.Size = isMinimized and miniSize or fullSize
end)

-- ä¿®æ­£ï¼šç°¡å–®é«˜äº®æ–‡å­—çš„åˆ†å€æŒ‰éˆ•æ¨£å¼
local function createSectionButton(text, order, parent)
    local btn = Instance.new("TextButton", parent)
    btn.Size = UDim2.new(0, 120, 0, 45)
    btn.Text = text
    btn.BackgroundColor3 = Color3.fromRGB(85, 85, 105)
    
    btn.TextColor3 = Color3.fromRGB(255, 255, 255)
    btn.TextTransparency = 0
    btn.Font = Enum.Font.GothamBold
    btn.TextSize = 16
    btn.BorderSizePixel = 0
    
    Instance.new("UICorner", btn).CornerRadius = UDim.new(0, 10)
    
    local btnStroke = Instance.new("UIStroke", btn)
    btnStroke.Color = Color3.fromRGB(150, 180, 255)
    btnStroke.Thickness = 1
    btnStroke.Transparency = 0.6
    
    btn.MouseEnter:Connect(function()
        btn.BackgroundColor3 = Color3.fromRGB(105, 105, 125)
        btnStroke.Transparency = 0.3
    end)
    
    btn.MouseLeave:Connect(function()
        btn.BackgroundColor3 = Color3.fromRGB(85, 85, 105)
        btnStroke.Transparency = 0.6
    end)
    
    return btn
end

-- ä¿®æ­£ï¼šç°¡å–®é«˜äº®æ–‡å­—çš„ä¸€èˆ¬æŒ‰éˆ•æ¨£å¼
local function createButton(text, order, parent, spacing)
    local btn = Instance.new("TextButton", parent)
    btn.Size = UDim2.new(0, 180, 0, 35)
    btn.Position = UDim2.new(0.5, -90, 0, 10 + (order - 1) * spacing)
    btn.Text = text
    btn.BackgroundColor3 = Color3.fromRGB(80, 140, 220)
    
    btn.TextColor3 = Color3.fromRGB(255, 255, 255)
    btn.TextSize = 16
    btn.Font = Enum.Font.GothamBold
    btn.BorderSizePixel = 0
    
    Instance.new("UICorner", btn).CornerRadius = UDim.new(0, 8)
    
    local btnStroke = Instance.new("UIStroke", btn)
    btnStroke.Color = Color3.fromRGB(120, 170, 255)
    btnStroke.Thickness = 1
    btnStroke.Transparency = 0.6
    
    btn.MouseEnter:Connect(function()
        btn.BackgroundColor3 = Color3.fromRGB(100, 160, 240)
        btn.TextColor3 = Color3.fromRGB(255, 255, 255)
        btnStroke.Transparency = 0.3
    end)
    
    btn.MouseLeave:Connect(function()
        btn.BackgroundColor3 = Color3.fromRGB(80, 140, 220)
        btn.TextColor3 = Color3.fromRGB(255, 255, 255)
        btnStroke.Transparency = 0.6
    end)
    
    return btn
end

-- é£›è¡Œå’Œæœå‘åŠŸèƒ½è®Šæ•¸
local flying = false
local bodyVelocity = nil
local lookAtConnection = nil
local flyConnection = nil
local inputConnection = nil

-- æŒ‰éµç‹€æ…‹
local keys = {
    W = false,
    A = false,
    S = false,
    D = false,
    Space = false,
    LeftShift = false
}

-- æ‰‹æ©Ÿæ§åˆ¶è®Šæ•¸
local isMobile = UserInputService.TouchEnabled and not UserInputService.KeyboardEnabled
local mobileControls = nil
local joystickCenter = Vector2.new(0, 0)
local joystickInput = Vector2.new(0, 0)
local isDragging = false

-- å‰µå»ºæ‰‹æ©Ÿæ§åˆ¶ç•Œé¢
local function createMobileControls()
    if mobileControls then
        mobileControls:Destroy()
    end
    
    -- æ‰‹æ©Ÿæ§åˆ¶GUI
    mobileControls = Instance.new("ScreenGui", LocalPlayer.PlayerGui)
    mobileControls.Name = "MobileFlightControls"
    mobileControls.ResetOnSpawn = false
    
    -- æ“æ§æ¡¿èƒŒæ™¯
    local joystickBase = Instance.new("Frame", mobileControls)
    joystickBase.Size = UDim2.new(0, 120, 0, 120)
    joystickBase.Position = UDim2.new(0, 30, 1, -150)
    joystickBase.BackgroundColor3 = Color3.fromRGB(50, 50, 50)
    joystickBase.BackgroundTransparency = 0.3
    joystickBase.BorderSizePixel = 0
    
    local joystickBaseCorner = Instance.new("UICorner", joystickBase)
    joystickBaseCorner.CornerRadius = UDim.new(0.5, 0)
    
    local joystickBaseStroke = Instance.new("UIStroke", joystickBase)
    joystickBaseStroke.Color = Color3.fromRGB(100, 150, 255)
    joystickBaseStroke.Thickness = 2
    joystickBaseStroke.Transparency = 0.5
    
    -- æ“æ§æ¡¿
    local joystick = Instance.new("Frame", joystickBase)
    joystick.Size = UDim2.new(0, 50, 0, 50)
    joystick.Position = UDim2.new(0.5, -25, 0.5, -25)
    joystick.BackgroundColor3 = Color3.fromRGB(100, 150, 255)
    joystick.BorderSizePixel = 0
    
    local joystickCorner = Instance.new("UICorner", joystick)
    joystickCorner.CornerRadius = UDim.new(0.5, 0)
    
    -- ä¸Šå‡æŒ‰éˆ•
    local upButton = Instance.new("TextButton", mobileControls)
    upButton.Size = UDim2.new(0, 60, 0, 60)
    upButton.Position = UDim2.new(1, -90, 1, -180)
    upButton.Text = "â†‘"
    upButton.BackgroundColor3 = Color3.fromRGB(80, 140, 220)
    upButton.TextColor3 = Color3.fromRGB(255, 255, 255)
    upButton.Font = Enum.Font.GothamBold
    upButton.TextSize = 24
    upButton.BorderSizePixel = 0
    
    local upCorner = Instance.new("UICorner", upButton)
    upCorner.CornerRadius = UDim.new(0.5, 0)
    
    -- ä¸‹é™æŒ‰éˆ•
    local downButton = Instance.new("TextButton", mobileControls)
    downButton.Size = UDim2.new(0, 60, 0, 60)
    downButton.Position = UDim2.new(1, -90, 1, -110)
    downButton.Text = "â†“"
    downButton.BackgroundColor3 = Color3.fromRGB(80, 140, 220)
    downButton.TextColor3 = Color3.fromRGB(255, 255, 255)
    downButton.Font = Enum.Font.GothamBold
    downButton.TextSize = 24
    downButton.BorderSizePixel = 0
    
    local downCorner = Instance.new("UICorner", downButton)
    downCorner.CornerRadius = UDim.new(0.5, 0)
    
    -- æ“æ§æ¡¿é‚è¼¯
    local function updateJoystick(input)
        local centerPosition = joystickBase.AbsolutePosition + joystickBase.AbsoluteSize / 2
        local inputPosition = Vector2.new(input.Position.X, input.Position.Y)
        local delta = inputPosition - centerPosition
        
        -- é™åˆ¶æ“æ§æ¡¿ç¯„åœ
        local maxDistance = (joystickBase.AbsoluteSize.X - joystick.AbsoluteSize.X) / 2
        local distance = math.min(delta.Magnitude, maxDistance)
        local direction = delta.Unit
        
        if delta.Magnitude > 0 then
            joystick.Position = UDim2.new(0.5, direction.X * distance - joystick.AbsoluteSize.X/2, 
                                         0.5, direction.Y * distance - joystick.AbsoluteSize.Y/2)
            
            -- æ›´æ–°è¼¸å…¥å€¼ (-1 åˆ° 1)
            joystickInput = Vector2.new(direction.X * (distance / maxDistance), 
                                       direction.Y * (distance / maxDistance))
        else
            joystick.Position = UDim2.new(0.5, -25, 0.5, -25)
            joystickInput = Vector2.new(0, 0)
        end
    end
    
    -- è§¸æ§äº‹ä»¶
    joystickBase.InputBegan:Connect(function(input)
        if input.UserInputType == Enum.UserInputType.Touch then
            isDragging = true
            updateJoystick(input)
        end
    end)
    
    joystickBase.InputChanged:Connect(function(input)
        if input.UserInputType == Enum.UserInputType.Touch and isDragging then
            updateJoystick(input)
        end
    end)
    
    joystickBase.InputEnded:Connect(function(input)
        if input.UserInputType == Enum.UserInputType.Touch then
            isDragging = false
            joystick.Position = UDim2.new(0.5, -25, 0.5, -25)
            joystickInput = Vector2.new(0, 0)
        end
    end)
    
    -- ä¸Šå‡æŒ‰éˆ•äº‹ä»¶
    upButton.TouchTap:Connect(function()
        keys.Space = true
        wait(0.1)
        keys.Space = false
    end)
    
    upButton.InputBegan:Connect(function(input)
        if input.UserInputType == Enum.UserInputType.Touch then
            keys.Space = true
        end
    end)
    
    upButton.InputEnded:Connect(function(input)
        if input.UserInputType == Enum.UserInputType.Touch then
            keys.Space = false
        end
    end)
    
    -- ä¸‹é™æŒ‰éˆ•äº‹ä»¶
    downButton.TouchTap:Connect(function()
        keys.LeftShift = true
        wait(0.1)
        keys.LeftShift = false
    end)
    
    downButton.InputBegan:Connect(function(input)
        if input.UserInputType == Enum.UserInputType.Touch then
            keys.LeftShift = true
        end
    end)
    
    downButton.InputEnded:Connect(function(input)
        if input.UserInputType == Enum.UserInputType.Touch then
            keys.LeftShift = false
        end
    end)
end
local function enableFlying()
    local character = LocalPlayer.Character
    if not character or not character:FindFirstChild("HumanoidRootPart") then
        return
    end
    
    local humanoidRootPart = character.HumanoidRootPart
    local humanoid = character:FindFirstChild("Humanoid")
    
    -- åªä½¿ç”¨ BodyVelocity ä¾†æ§åˆ¶é£›è¡Œ
    if bodyVelocity then
        bodyVelocity:Destroy()
    end
    bodyVelocity = Instance.new("BodyVelocity")
    bodyVelocity.MaxForce = Vector3.new(math.huge, math.huge, math.huge)
    bodyVelocity.Velocity = Vector3.new(0, 0, 0)
    bodyVelocity.Parent = humanoidRootPart
    
    flying = true
    
    -- ç›£è½æŒ‰éµè¼¸å…¥
    if inputConnection then
        inputConnection:Disconnect()
    end
    
    inputConnection = UserInputService.InputBegan:Connect(function(input, gameProcessed)
        if gameProcessed then return end
        
        if input.KeyCode == Enum.KeyCode.W then
            keys.W = true
        elseif input.KeyCode == Enum.KeyCode.A then
            keys.A = true
        elseif input.KeyCode == Enum.KeyCode.S then
            keys.S = true
        elseif input.KeyCode == Enum.KeyCode.D then
            keys.D = true
        elseif input.KeyCode == Enum.KeyCode.Space then
            keys.Space = true
        elseif input.KeyCode == Enum.KeyCode.LeftShift then
            keys.LeftShift = true
        end
    end)
    
    UserInputService.InputEnded:Connect(function(input, gameProcessed)
        if gameProcessed then return end
        
        if input.KeyCode == Enum.KeyCode.W then
            keys.W = false
        elseif input.KeyCode == Enum.KeyCode.A then
            keys.A = false
        elseif input.KeyCode == Enum.KeyCode.S then
            keys.S = false
        elseif input.KeyCode == Enum.KeyCode.D then
            keys.D = false
        elseif input.KeyCode == Enum.KeyCode.Space then
            keys.Space = false
        elseif input.KeyCode == Enum.KeyCode.LeftShift then
            keys.LeftShift = false
        end
    end)
    
    -- é£›è¡Œæ§åˆ¶å¾ªç’°
    if flyConnection then
        flyConnection:Disconnect()
    end
    
    flyConnection = RunService.Heartbeat:Connect(function()
        if not flying or not character or not character:FindFirstChild("HumanoidRootPart") or not bodyVelocity then
            return
        end
        
        local camera = Workspace.CurrentCamera
        if not camera then return end
        
        -- è¨ˆç®—ç§»å‹•æ–¹å‘
        local moveVector = Vector3.new(0, 0, 0)
        local flySpeed = 50
        
        -- åŸºæ–¼ç›¸æ©Ÿæ–¹å‘è¨ˆç®—ç§»å‹•
        local cameraCFrame = camera.CFrame
        local forwardVector = cameraCFrame.LookVector
        local rightVector = cameraCFrame.RightVector
        local upVector = Vector3.new(0, 1, 0)
        
        -- å‰å¾Œç§»å‹•
        if keys.W then
            moveVector = moveVector + forwardVector
        end
        if keys.S then
            moveVector = moveVector - forwardVector
        end
        
        -- å·¦å³ç§»å‹•
        if keys.A then
            moveVector = moveVector - rightVector
        end
        if keys.D then
            moveVector = moveVector + rightVector
        end
        
        -- ä¸Šä¸‹ç§»å‹•
        if keys.Space then
            moveVector = moveVector + upVector
        end
        if keys.LeftShift then
            moveVector = moveVector - upVector
        end
        
        -- æ¨™æº–åŒ–ç§»å‹•å‘é‡ä¸¦æ‡‰ç”¨é€Ÿåº¦
        if moveVector.Magnitude > 0 then
            moveVector = moveVector.Unit * flySpeed
        end
        
        -- è¨­ç½®é€Ÿåº¦
        bodyVelocity.Velocity = moveVector
    end)
    
    -- æœå‘FinishLineçš„åŠŸèƒ½
    if lookAtConnection then
        lookAtConnection:Disconnect()
    end
    
    lookAtConnection = RunService.Heartbeat:Connect(function()
        if not flying or not character or not character:FindFirstChild("HumanoidRootPart") then
            return
        end
        
        local finishLine = Workspace:FindFirstChild("Map")
        if finishLine then
            finishLine = finishLine:FindFirstChild("FinishLine")
        end
        
        if finishLine then
            local targetPosition = finishLine.Position
            local currentPosition = humanoidRootPart.Position
            local lookDirection = (targetPosition - currentPosition)
            lookDirection = Vector3.new(lookDirection.X, 0, lookDirection.Z).Unit
            
            if lookDirection.Magnitude > 0 then
                local newCFrame = CFrame.lookAt(currentPosition, currentPosition + lookDirection)
                humanoidRootPart.CFrame = newCFrame
            end
        end
    end)
end

-- åœç”¨é£›è¡ŒåŠŸèƒ½
local function disableFlying()
    flying = false
    
    if bodyVelocity then
        bodyVelocity:Destroy()
        bodyVelocity = nil
    end
    
    if lookAtConnection then
        lookAtConnection:Disconnect()
        lookAtConnection = nil
    end
    
    if flyConnection then
        flyConnection:Disconnect()
        flyConnection = nil
    end
    
    if inputConnection then
        inputConnection:Disconnect()
        inputConnection = nil
    end
    
    -- ç§»é™¤æ‰‹æ©Ÿæ§åˆ¶ç•Œé¢
    if mobileControls then
        mobileControls:Destroy()
        mobileControls = nil
    end
    
    -- é‡ç½®æŒ‰éµç‹€æ…‹
    for key, _ in pairs(keys) do
        keys[key] = false
    end
    
    -- é‡ç½®æ“æ§æ¡¿ç‹€æ…‹
    joystickInput = Vector2.new(0, 0)
    isDragging = false
end

-- å‰µå»ºè³½è»Šå ´åˆ†å€å…§å®¹
local function createRacingContent()
    -- æ¸…ç©ºå…§å®¹å€åŸŸ
    for _, child in pairs(Content:GetChildren()) do
        if child:IsA("GuiObject") then
            child:Destroy()
        end
    end
    
    -- å‰µå»ºæ¨™é¡Œ
    local sectionTitle = Instance.new("TextLabel", Content)
    sectionTitle.Size = UDim2.new(1, -20, 0, 40)
    sectionTitle.Position = UDim2.new(0, 10, 0, 10)
    sectionTitle.BackgroundTransparency = 1
    sectionTitle.Text = "ğŸ è³½è»Šå ´åŠŸèƒ½"
    sectionTitle.Font = Enum.Font.GothamBold
    sectionTitle.TextSize = 20
    sectionTitle.TextColor3 = Color3.fromRGB(255, 255, 255)
    sectionTitle.TextXAlignment = Enum.TextXAlignment.Left
    
    -- å‰µå»ºé¢å‘æŒ‰éˆ•
    local lookAtBtn = createButton("é¢å‘çµ‚é»", 1, Content, 50)
    lookAtBtn.Position = UDim2.new(0.5, -90, 0, 60)
    
    -- å‰µå»ºç‹€æ…‹é¡¯ç¤º
    local statusLabel = Instance.new("TextLabel", Content)
    statusLabel.Size = UDim2.new(1, -20, 0, 30)
    statusLabel.Position = UDim2.new(0, 10, 0, 110)
    statusLabel.BackgroundTransparency = 1
    statusLabel.Text = "ç‹€æ…‹: æœªå•Ÿå‹•"
    statusLabel.Font = Enum.Font.Gotham
    statusLabel.TextSize = 14
    statusLabel.TextColor3 = Color3.fromRGB(200, 200, 200)
    statusLabel.TextXAlignment = Enum.TextXAlignment.Left
    
    -- å‰µå»ºæ§åˆ¶æç¤º
    local controlHint = Instance.new("TextLabel", Content)
    controlHint.Size = UDim2.new(1, -20, 0, 80)
    controlHint.Position = UDim2.new(0, 10, 0, 140)
    controlHint.BackgroundTransparency = 1
    controlHint.Font = Enum.Font.Gotham
    controlHint.TextSize = 12
    controlHint.TextColor3 = Color3.fromRGB(150, 150, 150)
    controlHint.TextXAlignment = Enum.TextXAlignment.Left
    controlHint.TextYAlignment = Enum.TextYAlignment.Top
    
    -- æ ¹æ“šå¹³å°é¡¯ç¤ºä¸åŒçš„æ§åˆ¶æç¤º
    if isMobile then
        controlHint.Text = "æ‰‹æ©Ÿæ§åˆ¶:\nâ€¢ ç”¨infinite yieldé–‹é£›è¡Œ\nâ€¢ åªæœƒè‡ªå‹•æœå‘çµ‚é»"
    else
        controlHint.Text = "é›»è…¦æ§åˆ¶:\nâ€¢ WASDç§»å‹•\nâ€¢ ç©ºæ ¼éµä¸Šå‡\nâ€¢ Shiftä¸‹é™\nâ€¢ æœƒè‡ªå‹•æœå‘çµ‚é»\nâ€¢ (ä¸ç¢ºå®šé›»è…¦èƒ½ä¸èƒ½ç”¨ æˆ‘é€™åªèƒ½ç”¨å¹³æ¿æˆ–æ‰‹æ©Ÿ)"
    end
    
    -- å‰µå»ºåœæ­¢æŒ‰éˆ•
    local stopBtn = createButton("â›” åœæ­¢", 2, Content, 50)
    stopBtn.Position = UDim2.new(0.5, -90, 0, 240)
    stopBtn.BackgroundColor3 = Color3.fromRGB(220, 60, 60)
    
    -- åœæ­¢æŒ‰éˆ•hoveræ•ˆæœ
    stopBtn.MouseEnter:Connect(function()
        stopBtn.BackgroundColor3 = Color3.fromRGB(240, 80, 80)
    end)
    
    stopBtn.MouseLeave:Connect(function()
        stopBtn.BackgroundColor3 = Color3.fromRGB(220, 60, 60)
    end)

    -- é¢å‘æŒ‰éˆ•åŠŸèƒ½
    lookAtBtn.MouseButton1Click:Connect(function()
        local finishLine = Workspace:FindFirstChild("Map")
        if finishLine then
            finishLine = finishLine:FindFirstChild("FinishLine")
        end
        
        if not finishLine then
            statusLabel.Text = "ç‹€æ…‹: æ‰¾ä¸åˆ° FinishLine"
            statusLabel.TextColor3 = Color3.fromRGB(255, 100, 100)
            return
        end
        
        local character = LocalPlayer.Character
        if not character or not character:FindFirstChild("HumanoidRootPart") then
            statusLabel.Text = "ç‹€æ…‹: è§’è‰²ä¸å­˜åœ¨"
            statusLabel.TextColor3 = Color3.fromRGB(255, 100, 100)
            return
        end
        
        -- å•Ÿå‹•é£›è¡Œå’Œæœå‘åŠŸèƒ½
        enableFlying()
        
        statusLabel.Text = "ç‹€æ…‹: é£›è¡Œä¸­ï¼Œæ°¸é æœå‘çµ‚é»ç·š"
        statusLabel.TextColor3 = Color3.fromRGB(100, 255, 100)
    end)
    
    -- åœæ­¢æŒ‰éˆ•åŠŸèƒ½
    stopBtn.MouseButton1Click:Connect(function()
        disableFlying()
        statusLabel.Text = "ç‹€æ…‹: å·²åœæ­¢"
        statusLabel.TextColor3 = Color3.fromRGB(200, 200, 200)
    end)
end

-- å‰µå»ºè³½è»Šå ´åˆ†å€æŒ‰éˆ•
local racingBtn = createSectionButton("ğŸ è³½è»Šå ´", 1, SideBar)

-- è³½è»Šå ´æŒ‰éˆ•é»æ“Šäº‹ä»¶
racingBtn.MouseButton1Click:Connect(function()
    createRacingContent()
end)

-- é»˜èªé¡¯ç¤ºè³½è»Šå ´å…§å®¹
createRacingContent()

-- ç•¶è§’è‰²é‡ç”Ÿæ™‚é‡æ–°è¨­ç½®
LocalPlayer.CharacterAdded:Connect(function()
    if flying then
        wait(1) -- ç­‰å¾…è§’è‰²å®Œå…¨è¼‰å…¥
        enableFlying()
    end
end)


-- å‰µå»º Infinite Yield æŒ‰éˆ•
local infiniteYieldBtn = createButton("ğŸš€ Infinite Yield", 3, Content, 50)
infiniteYieldBtn.Position = UDim2.new(0.5, -90, 0, 290)
infiniteYieldBtn.BackgroundColor3 = Color3.fromRGB(100, 180, 100)

-- Infinite Yield æŒ‰éˆ• hover æ•ˆæœ
infiniteYieldBtn.MouseEnter:Connect(function()
    infiniteYieldBtn.BackgroundColor3 = Color3.fromRGB(120, 200, 120)
end)

infiniteYieldBtn.MouseLeave:Connect(function()
    infiniteYieldBtn.BackgroundColor3 = Color3.fromRGB(100, 180, 100)
end)

-- ç„¶å¾Œåœ¨åœæ­¢æŒ‰éˆ•åŠŸèƒ½çš„å¾Œé¢æ·»åŠ ï¼š

-- Infinite Yield æŒ‰éˆ•åŠŸèƒ½
infiniteYieldBtn.MouseButton1Click:Connect(function()
    statusLabel.Text = "ç‹€æ…‹: æ­£åœ¨åŠ è¼‰ Infinite Yield..."
    statusLabel.TextColor3 = Color3.fromRGB(255, 255, 100)
    
    -- åŸ·è¡Œ Infinite Yield
    pcall(function()
        loadstring(game:HttpGet('https://raw.githubusercontent.com/edgeiy/infiniteyield/master/source'))()
        statusLabel.Text = "ç‹€æ…‹: Infinite Yield å·²åŠ è¼‰"
        statusLabel.TextColor3 = Color3.fromRGB(100, 255, 100)
    end)
end)
